<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Mother</title>

    <link rel="stylesheet" href="selectmother.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>

    <div class="container my-3">
        <h1 class="text-center">Officer</h1>
        
        <div class="d-flex my-5 justify-content-between">
          <div>
            <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#addNewAdmin">Add New Officer</button>
          </div>
          <div class="d-flex gap-3">
            <div>
                <input type="text" class="form-control" id="searchId" placeholder="Search by ID">
            </div>
            <div>
                <button type="button" class="btn btn-dark" onclick="searchOfficer()">Search</button>
            </div>
        </div>  
        </div>
        <div id="displayTable"></div>
    </div>
    <!--Add Modal -->
    <div class="modal fade" id="addNewAdmin" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg"> <!-- Added 'modal-lg' for a larger modal -->
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Add New Officer</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            
            <div class="modal-body">
              <!-- Begin form content -->
              <div class="row g-2">
                <div class="col-md-6 input-group-sm">
                  <label for="firstName" class="form-label">First Name</label>
                  <input type="text" class="form-control" id="firstName" name="firstName" placeholder="Enter First Name">
                </div>
                <div class="col-md-6 input-group-sm">
                  <label for="lastName" class="form-label">Last Name</label>
                  <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Enter Last Name">
                </div>
              </div>
      
              <div class="row g-2 mt-2">
                <div class="col-md-6 input-group-sm">
                  <label for="NIC" class="form-label">NIC</label>
                  <input type="text" class="form-control" id="NIC" placeholder="Enter NIC">
                </div>
              </div>
      
              <div class="row g-2 mt-2">
                <div class="col-md-6 input-group-sm">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" class="form-control" id="email" placeholder="abcdefg123@gmail.com">
                </div>
                <div class="col-md-6 input-group-sm">
                  <label for="phone" class="form-label">Phone No</label>
                  <input type="text" class="form-control" id="phone" placeholder="0#########">
                </div>
              </div>
      
              <div class="row g-2 mt-2">
                <div class="col-12 input-group-sm">
                  <label for="inputAddress" class="form-label">Address</label>
                  <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main Street">
                </div>
                <div class="col-12 input-group-sm mt-2">
                  <label for="inputAddress2" class="form-label">Address 2</label>
                  <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio">
                </div>
              </div>

              <div class="row g-2 mt-2">
                <div class="col-md-6 input-group-sm">
                  <label for="inputCity" class="form-label">City</label>
                  <input type="text" class="form-control" id="city" placeholder="Enter City">
                </div>
                <div class="col-md-6 input-group-sm">
                  <label for="inputPassword" class="form-label">Password</label>
                  <input type="text" class="form-control" id="password" placeholder="!@#$%^&*">
                </div>
              </div>
      
              <div class="col-12 mt-3 input-group-sm">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="checkbox">
                  <label class="form-check-label" for="checkbox">Agree with all policies</label>
                </div>
              </div>
              <!-- End form content -->
            </div>
            
            <div class="modal-footer">
              <button type="button" class="btn btn-primary px-5 border-0" onclick="addOfficer()">Add</button>
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
              <input type="hidden" id="hiddenData">
            </div>
          </div>
        </div>
      </div>
      
            
        <!-- Update Modal -->
    
        <div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Update User</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
    
            <div class="modal-body">
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input type="text" class="form-control" id="updateName" placeholder="Enter name">
                </div>
    
                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="updateEmail" placeholder="Enter email">
                </div>
    
                <div class="mb-3">
                    <label for="mobile" class="form-label">Mobile Number</label>
                    <input type="text" class="form-control" id="updateMobile" placeholder="Enter mobile number">
                </div>
    
                <div class="mb-3">
                    <label for="address" class="form-label">Address</label>
                    <input type="text" class="form-control" id="updateAddress" placeholder="Enter address">
                </div>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-dark" onclick="updateUser()">Update</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                <input type="hidden" id="hiddenData">
            </div>
            </div>
        </div>
        </div>
    
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>


    
    <script>
        $(document).ready(function() {
            displayData();
        });


        function addOfficer(){
          const agreeWithPolicies = $('#checkbox').is(':checked');

          if(agreeWithPolicies == false){
            alert("Please Agree with policies for Register");
            return;
          }

          
          // alert( $('#email').val().trim());
          $.ajax({
            url: "officerController.php",
                type: 'post',
                data: {
                    action: "add",
                    ofname: $('#firstName').val().trim(),
                    olname: $('#lastName').val().trim(),
                    onic: $('#NIC').val().trim(),
                    oemail: $('#email').val().trim(),
                    ophon: $('#phone').val().trim(),
                    oadd1: $('#inputAddress').val().trim(),
                    oadd2: $('#inputAddress2').val().trim(),
                    ocity: $('#city').val().trim(),
                    opass: $('#password').val().trim()
                },
                success: function(data,response) {
                    $('#displayTable').html(data);
                    alert(response);
                },
                error: function(xhr) {
                    alert("Error fetching data: " + xhr.responseText);
                }
               
          })
           alert($('#checkbox').is(':checked'));

        }

        $(document).ready(function() {
            displayData();
        });

        function displayData() {        
            $.ajax({
                url: "officerController.php",
                type: 'post',
                data: {
                    action: "setOfficerTable",
                    motherData: true
                },
                success: function(data) {
                    $('#displayTable').html(data);
                },
                error: function(xhr) {
                    alert("Error fetching data: " + xhr.responseText);
                }
            });
        }

        function searchOfficer() {
            const id = $('#searchId').val();

        if (id === "") {
            displayData();
            return;
        }

            $.ajax({
                url: "officerController.php",
                type: 'post',
                data: {
                    action: "searchOfficerTable",
                    oID: id
                },
                success: function(data) {
                    $('#displayTable').html(data);
                },
                error: function(xhr) {
                    alert("Error fetching data: " + xhr.responseText);
                }
            });
        }
    </script>
    
</body>
</html>



